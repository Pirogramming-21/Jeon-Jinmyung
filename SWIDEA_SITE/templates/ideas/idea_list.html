{% extends 'base.html' %}

{% block title %}Idea List{% endblock %}

{% block content %}
        <h1>Idea List</h1>
        <form method="get" id="sortForm">
            <select name="sort" onchange="document.getElementById('sortForm').submit();">
                <option value="">--정렬기준--</option>
                <option value="stars" {% if request.GET.sort == "stars" %}selected{% endif %}>찜하기순</option>
                <option value="created_at" {% if request.GET.sort == "created_at" %}selected{% endif %}>등록순</option>
                <option value="-created_at" {% if request.GET.sort == "-created_at" %}selected{% endif %}>최신순</option>
                <option value="title" {% if request.GET.sort == "title" %}selected{% endif %}>이름순</option>
            </select>
        </form>
        <div class="container">
            {% for idea in ideas %}
            <div class="card">
                <a href="{% url 'idea_detail' pk=idea.pk %}">
                    <img src="{{ idea.image.url }}" alt="{{ idea.title }}">
                    <h2 href="{% url 'idea_detail' idea.pk %}">{{ idea.title }}</h2>
                </a>
                <p>예상 개발 툴: {{ idea.devtool.name }}</p>
                <p id="interest-{{ idea.id }}">아이디어 관심도: +{{ idea.interest }}</p>
            </div>
            {% endfor %}
        </div>
        <div class="pagination">
            <a href="#">1</a>
            <a href="#">2</a>
            <a href="#">3</a>
        </div>
{% endblock %}

